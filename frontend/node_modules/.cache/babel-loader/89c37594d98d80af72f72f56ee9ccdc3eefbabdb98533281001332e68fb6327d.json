{"ast":null,"code":"import React from\"react\";import{MapContainer,TileLayer,Polyline,Marker,Popup}from\"react-leaflet\";import L from\"leaflet\";import\"leaflet/dist/leaflet.css\";// Fix for default markers in react-leaflet\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";delete L.Icon.Default.prototype._getIconUrl;L.Icon.Default.mergeOptions({iconRetinaUrl:\"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png\",iconUrl:\"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png\",shadowUrl:\"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png\"});const RouteMap=_ref=>{let{stops}=_ref;if(!stops||stops.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"map-placeholder\",children:\"No route data to display\"});}const positions=stops.map(stop=>[stop.lat,stop.lon]);// Create a custom bus icon\nconst busIcon=new L.Icon({iconUrl:\"data:image/svg+xml;base64,\"+btoa(\"\\n      <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"#667eea\\\" width=\\\"24\\\" height=\\\"24\\\">\\n        <path d=\\\"M4 16c0 .88.39 1.67 1 2.22V20c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h8v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1.78c.61-.55 1-1.34 1-2.22V6c0-3.5-3.58-4-8-4s-8 .5-8 4v10zm3.5 1c-.83 0-1.5-.67-1.5-1.5S6.67 14 7.5 14s1.5.67 1.5 1.5S8.33 17 7.5 17zm9 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm1.5-6H6V6h12v5z\\\"/>\\n      </svg>\\n    \"),iconSize:[24,24],iconAnchor:[12,12],popupAnchor:[0,-12]});const startIcon=new L.Icon({iconUrl:\"data:image/svg+xml;base64,\"+btoa(\"\\n      <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"#4CAF50\\\" width=\\\"20\\\" height=\\\"20\\\">\\n        <circle cx=\\\"12\\\" cy=\\\"12\\\" r=\\\"10\\\"/>\\n      </svg>\\n    \"),iconSize:[20,20],iconAnchor:[10,10],popupAnchor:[0,-10]});const endIcon=new L.Icon({iconUrl:\"data:image/svg+xml;base64,\"+btoa(\"\\n      <svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"#F44336\\\" width=\\\"20\\\" height=\\\"20\\\">\\n        <circle cx=\\\"12\\\" cy=\\\"12\\\" r=\\\"10\\\"/>\\n      </svg>\\n    \"),iconSize:[20,20],iconAnchor:[10,10],popupAnchor:[0,-10]});return/*#__PURE__*/_jsxs(MapContainer,{center:positions[0],zoom:13,style:{height:\"100%\",width:\"100%\"},children:[/*#__PURE__*/_jsx(TileLayer,{url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",attribution:\"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"}),/*#__PURE__*/_jsx(Polyline,{positions:positions,color:\"#667eea\",weight:4,opacity:0.7}),stops.map((stop,index)=>/*#__PURE__*/_jsx(Marker,{position:[stop.lat,stop.lon],icon:index===0?startIcon:index===stops.length-1?endIcon:busIcon,children:/*#__PURE__*/_jsx(Popup,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[index===0?\"üö© Start: \":index===stops.length-1?\"üèÅ End: \":\"\\uD83D\\uDED1 Stop \".concat(index,\": \"),stop[\"Boarding Point\"]]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Time:\"}),\" \",stop.Time]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Position:\"}),\" \",index+1,\" of \",stops.length]})]})})},index))]});};export default RouteMap;","map":{"version":3,"names":["React","MapContainer","TileLayer","Polyline","Marker","Popup","L","jsx","_jsx","jsxs","_jsxs","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","RouteMap","_ref","stops","length","className","children","positions","map","stop","lat","lon","busIcon","btoa","iconSize","iconAnchor","popupAnchor","startIcon","endIcon","center","zoom","style","height","width","url","attribution","color","weight","opacity","index","position","icon","concat","Time"],"sources":["C:/BRO/frontend/src/components/RouteMap.js"],"sourcesContent":["import React from \"react\";\r\nimport {\r\n  MapContainer,\r\n  TileLayer,\r\n  Polyline,\r\n  Marker,\r\n  Popup,\r\n} from \"react-leaflet\";\r\nimport L from \"leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\n\r\n// Fix for default markers in react-leaflet\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl:\r\n    \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png\",\r\n  iconUrl:\r\n    \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png\",\r\n  shadowUrl:\r\n    \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png\",\r\n});\r\n\r\nconst RouteMap = ({ stops }) => {\r\n  if (!stops || stops.length === 0) {\r\n    return <div className=\"map-placeholder\">No route data to display</div>;\r\n  }\r\n\r\n  const positions = stops.map((stop) => [stop.lat, stop.lon]);\r\n\r\n  // Create a custom bus icon\r\n  const busIcon = new L.Icon({\r\n    iconUrl:\r\n      \"data:image/svg+xml;base64,\" +\r\n      btoa(`\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#667eea\" width=\"24\" height=\"24\">\r\n        <path d=\"M4 16c0 .88.39 1.67 1 2.22V20c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h8v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1.78c.61-.55 1-1.34 1-2.22V6c0-3.5-3.58-4-8-4s-8 .5-8 4v10zm3.5 1c-.83 0-1.5-.67-1.5-1.5S6.67 14 7.5 14s1.5.67 1.5 1.5S8.33 17 7.5 17zm9 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm1.5-6H6V6h12v5z\"/>\r\n      </svg>\r\n    `),\r\n    iconSize: [24, 24],\r\n    iconAnchor: [12, 12],\r\n    popupAnchor: [0, -12],\r\n  });\r\n\r\n  const startIcon = new L.Icon({\r\n    iconUrl:\r\n      \"data:image/svg+xml;base64,\" +\r\n      btoa(`\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#4CAF50\" width=\"20\" height=\"20\">\r\n        <circle cx=\"12\" cy=\"12\" r=\"10\"/>\r\n      </svg>\r\n    `),\r\n    iconSize: [20, 20],\r\n    iconAnchor: [10, 10],\r\n    popupAnchor: [0, -10],\r\n  });\r\n\r\n  const endIcon = new L.Icon({\r\n    iconUrl:\r\n      \"data:image/svg+xml;base64,\" +\r\n      btoa(`\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#F44336\" width=\"20\" height=\"20\">\r\n        <circle cx=\"12\" cy=\"12\" r=\"10\"/>\r\n      </svg>\r\n    `),\r\n    iconSize: [20, 20],\r\n    iconAnchor: [10, 10],\r\n    popupAnchor: [0, -10],\r\n  });\r\n\r\n  return (\r\n    <MapContainer\r\n      center={positions[0]}\r\n      zoom={13}\r\n      style={{ height: \"100%\", width: \"100%\" }}\r\n    >\r\n      <TileLayer\r\n        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n        attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n      />\r\n\r\n      {/* Route polyline */}\r\n      <Polyline\r\n        positions={positions}\r\n        color=\"#667eea\"\r\n        weight={4}\r\n        opacity={0.7}\r\n      />\r\n\r\n      {/* Markers for each stop */}\r\n      {stops.map((stop, index) => (\r\n        <Marker\r\n          key={index}\r\n          position={[stop.lat, stop.lon]}\r\n          icon={\r\n            index === 0\r\n              ? startIcon\r\n              : index === stops.length - 1\r\n              ? endIcon\r\n              : busIcon\r\n          }\r\n        >\r\n          <Popup>\r\n            <div className=\"popup-content\">\r\n              <h4>\r\n                {index === 0\r\n                  ? \"üö© Start: \"\r\n                  : index === stops.length - 1\r\n                  ? \"üèÅ End: \"\r\n                  : `üõë Stop ${index}: `}\r\n                {stop[\"Boarding Point\"]}\r\n              </h4>\r\n              <p>\r\n                <strong>Time:</strong> {stop.Time}\r\n              </p>\r\n              <p>\r\n                <strong>Position:</strong> {index + 1} of {stops.length}\r\n              </p>\r\n            </div>\r\n          </Popup>\r\n        </Marker>\r\n      ))}\r\n    </MapContainer>\r\n  );\r\n};\r\n\r\nexport default RouteMap;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}